<!DOCTYPE html><html lang="cn"><head><meta charSet="UTF-8"/><title>加密保存的游戏数据 | Archive</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="加密保存的游戏数据 | Archive"/><meta name="description" content="Personal Blog"/><meta property="og:description" content="Personal Blog"/><meta property="og:type" content="website"/><meta property="twitter:card" content="summary_large_image"/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><meta name="next-head-count" content="9"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/blog/_next/static/css/5f7c6aaf759aa20d.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/5f7c6aaf759aa20d.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/b8491e953adc923d.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/b8491e953adc923d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/blog/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/blog/_next/static/chunks/webpack-6965b024cefed38b.js" defer=""></script><script src="/blog/_next/static/chunks/framework-49c6cecf1f6d5795.js" defer=""></script><script src="/blog/_next/static/chunks/main-aa6243415bc34dcf.js" defer=""></script><script src="/blog/_next/static/chunks/pages/_app-ae897f29056b30d9.js" defer=""></script><script src="/blog/_next/static/chunks/29107295-2a9ca7f07685bf37.js" defer=""></script><script src="/blog/_next/static/chunks/117b9d7f-1415b8d5c023097d.js" defer=""></script><script src="/blog/_next/static/chunks/664-d254d21a6fe56bff.js" defer=""></script><script src="/blog/_next/static/chunks/475-14dfd807b1d12a64.js" defer=""></script><script src="/blog/_next/static/chunks/675-d64d4792f164bc88.js" defer=""></script><script src="/blog/_next/static/chunks/873-2d6d31d807f2bee5.js" defer=""></script><script src="/blog/_next/static/chunks/pages/%5Bcollection%5D/%5B...slug%5D-7fd09a60a64e62ca.js" defer=""></script><script src="/blog/_next/static/KNc6YkpMgxrEKqlxf_83E/_buildManifest.js" defer=""></script><script src="/blog/_next/static/KNc6YkpMgxrEKqlxf_83E/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header data-theme="dark" class="style_nav-root__jrAJR" style="height:80px"><section class="style_nav-section__sS_tB"><a class="style_nav-logo__jRYAT" href="/blog"><h3>Allen Lee@Blog</h3></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="style_nav-menus__4aQM9"><div style="position:relative"><ul data-orientation="horizontal" dir="ltr"><li><button class="style_btn__AkQj7 style_subtle__i70rQ style_nav-trigger__ekUye" id="radix-:Rj6:-trigger-radix-:Rjj6:" data-state="closed" aria-expanded="false" aria-controls="radix-:Rj6:-content-radix-:Rjj6:" data-radix-collection-item="">Overview <svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 15 15" aria-hidden="true" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.18179 6.18181C4.35753 6.00608 4.64245 6.00608 4.81819 6.18181L7.49999 8.86362L10.1818 6.18181C10.3575 6.00608 10.6424 6.00608 10.8182 6.18181C10.9939 6.35755 10.9939 6.64247 10.8182 6.81821L7.81819 9.81821C7.73379 9.9026 7.61934 9.95001 7.49999 9.95001C7.38064 9.95001 7.26618 9.9026 7.18179 9.81821L4.18179 6.81821C4.00605 6.64247 4.00605 6.35755 4.18179 6.18181Z" fill="currentColor"></path></svg></button></li></ul></div></nav></section></header><main data-theme="light" style="background-color:var(--colorNeutralBackground1);overflow-x:hidden;overflow-y:auto;width:100vw;height:calc(100vh - 80px)" id="main"><div class="collection_slug_Root__xztwf"><div class="main_archivePost__UUdxv godot_Godot__oTza4"><div role="article"><h1>加密保存的游戏数据</h1><section class="styles_surface__5pQP4 styles_minimum-surface__7A9Os style_references__wDUjn"><div><span class="style_avatar-root__xEJpL style_avatar__yw5Sd style_circular__iX_78" role="img"></span><nav><span style="color:#8590a6;font-size:12px">首发于<!-- --> <!-- -->docs.godotengine</span><a href="https://docs.godotengine.org/zh_CN/stable/tutorials/io/encrypting_save_games.html#">Godot（4月1日）</a></nav></div><ul role="tree" class="style_tree__z68SN" style="flex-grow:1;max-width:200px"><details class="style_item-details__dS91s" role="menu"><summary><div class="style_item___5SwP style_label__43rGE" role="menuitem"><span class="style_icon-container__VsCy9" style="width:10px"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></svg></span><span class="" data-state="closed"><a class="style_labelItem__EiDRY" href="#" style="overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1">目录</a></span></div></summary></details></ul></section><article><input id="gd" name="la" type="radio" readonly="" checked=""/>
<input id="cs" name="la" type="radio" readonly=""/>
<div class="navgator"><ul>
<li>Docs »</li>
<li>I/O »</li>
<li>Encrypting save games</li>
<li>View page source</li>
</ul></div>
<hr/>
<h1 id="encrypting-save-games">Encrypting save games<a class="anchor after" aria-hidden="true" aria-label="permalink" tabindex="-1" href="/blog/archive/encryptingSaveGames#encrypting-save-games"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" focusable="false"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a></h1>
<h2 id="why">Why?<a class="anchor after" aria-hidden="true" aria-label="permalink" tabindex="-1" href="/blog/archive/encryptingSaveGames#why"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" focusable="false"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a></h2>
<p>Because the world today is not the world of yesterday. A capitalist oligarchy runs the world and forces us to consume in order to keep the gears of this rotten society on track. As such, the biggest market for video game consumption today is the mobile one. It is a market of poor souls forced to compulsively consume digital content in order to forget the misery of their everyday life, commute, or just any other brief free moment they have that they are not using to produce goods or services for the ruling class. These individuals need to keep focusing on their video games (because not doing so will fill them with tremendous existential angst), so they go as far as spending money on them to extend their experience, and their preferred way of doing so is through in-app purchases and virtual currency.</p>
<p>But what if someone were to find a way to edit the saved games and assign the items and currency without effort? That would be terrible, because it would help players consume the content much faster, and therefore run out of it sooner than expected. If that happens, they will have nothing that prevents them from thinking, and the tremendous agony of realizing their own irrelevance would again take over their life.</p>
<p>No, we definitely do not want that to happen, so let&#x27;s see how to encrypt savegames and protect the world order.</p>
<h2 id="how">How?<a class="anchor after" aria-hidden="true" aria-label="permalink" tabindex="-1" href="/blog/archive/encryptingSaveGames#how"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" focusable="false"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a></h2>
<p>The class <a href="/blog/archive/encryptingSaveGames#">File</a> can open a file at a location and read/write data (integers, strings and variants). It also supports encryption. To create an encrypted file, a passphrase must be provided, like this:</p>
<div class="sphinx-tabs"><div><label for="gd">GDScript</label><label for="cs">C#</label></div><pre class="language-py"><code class="language-py code-highlight"><span class="code-line">var f <span class="token operator">=</span> File<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">var err <span class="token operator">=</span> f<span class="token punctuation">.</span>open_encrypted_with_pass<span class="token punctuation">(</span><span class="token string">&quot;user://savedata.bin&quot;</span><span class="token punctuation">,</span> File<span class="token punctuation">.</span>WRITE<span class="token punctuation">,</span> <span class="token string">&quot;mypass&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">f<span class="token punctuation">.</span>store_var<span class="token punctuation">(</span>game_state<span class="token punctuation">)</span>
</span><span class="code-line">f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre><pre class="language-csharp"><code class="language-csharp code-highlight"><span class="code-line"><span class="token class-name"><span class="token keyword">var</span></span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">File</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token class-name"><span class="token keyword">var</span></span> err <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">OpenEncryptedWithPass</span><span class="token punctuation">(</span><span class="token string">&quot;user://savedata.bin&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>File<span class="token punctuation">.</span>ModeFlags<span class="token punctuation">.</span>Write<span class="token punctuation">,</span> <span class="token string">&quot;mypass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">f<span class="token punctuation">.</span><span class="token function">StoreVar</span><span class="token punctuation">(</span>gameState<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div>
<p>This will make the file unreadable to users, but will still not prevent them from sharing savefiles. To solve this, use the device unique id or some unique user identifier, for example:</p>
<div class="sphinx-tabs"><div><label for="gd">GDScript</label><label for="cs">C#</label></div><pre class="language-py"><code class="language-py code-highlight"><span class="code-line">var f <span class="token operator">=</span> File<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">var err <span class="token operator">=</span> f<span class="token punctuation">.</span>open_encrypted_with_pass<span class="token punctuation">(</span><span class="token string">&quot;user://savedata.bin&quot;</span><span class="token punctuation">,</span> File<span class="token punctuation">.</span>WRITE<span class="token punctuation">,</span> OS<span class="token punctuation">.</span>get_unique_id<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">f<span class="token punctuation">.</span>store_var<span class="token punctuation">(</span>game_state<span class="token punctuation">)</span>
</span><span class="code-line">f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre><pre class="language-csharp"><code class="language-csharp code-highlight"><span class="code-line"><span class="token class-name"><span class="token keyword">var</span></span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">File</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token class-name"><span class="token keyword">var</span></span> err <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">OpenEncryptedWithPass</span><span class="token punctuation">(</span><span class="token string">&quot;user://savedata.bin&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>File<span class="token punctuation">.</span>ModeFlags<span class="token punctuation">.</span>Write<span class="token punctuation">,</span> OS<span class="token punctuation">.</span><span class="token function">GetUniqueId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">f<span class="token punctuation">.</span><span class="token function">StoreVar</span><span class="token punctuation">(</span>gameState<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div>
<p>Note that <code>OS.get_unique_id()</code> does not work on UWP or HTML5.</p>
<p>That is all! Thank you for your cooperation, citizen.</p>
<blockquote>
<p>This method cannot really prevent players from editing their savegames locally because, since the encryption key is stored inside the game, the player can still decrypt and edit the file themselves. The only way to prevent this from being possible is to store the save data on a remote server, where players can only make authorized changes to their save data. If your game deals with real money, you need to be doing this anyway.</p>
</blockquote></article></div></div><div class="empty"></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"matter":{"title":"加密保存的游戏数据","tags":["archive"],"type":"docs.godotengine.org","avatar":"https://docs.godotengine.org/zh_CN/stable/_static/docs_logo.png","reference":"Godot（4月1日）|https://docs.godotengine.org/zh_CN/stable/tutorials/io/encrypting_save_games.html#","ignoredDepth":[1]},"absPath":"/home/runner/work/blog/blog/renderer/mdx/archive/encryptingSaveGames.mdx","type":"mdx","slug":["encryptingSaveGames"],"collection":"archive","url":"/archive/encryptingSaveGames"},"compiled":{"content":"\"use strict\";\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst frontmatter = {\n  \"title\": \"加密保存的游戏数据\",\n  \"tags\": [\"archive\"],\n  \"type\": \"docs.godotengine.org\",\n  \"avatar\": \"https://docs.godotengine.org/zh_CN/stable/_static/docs_logo.png\",\n  \"reference\": \"Godot（4月1日）|https://docs.godotengine.org/zh_CN/stable/tutorials/io/encrypting_save_games.html#\",\n  \"ignoredDepth\": [1]\n};\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    blockquote: \"blockquote\",\n    code: \"code\",\n    h1: \"h1\",\n    h2: \"h2\",\n    hr: \"hr\",\n    li: \"li\",\n    p: \"p\",\n    path: \"path\",\n    pre: \"pre\",\n    span: \"span\",\n    svg: \"svg\",\n    ul: \"ul\",\n    ...props.components\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(\"input\", {\n      id: \"gd\",\n      name: \"la\",\n      type: \"radio\",\n      checked: true,\n      readOnly: true\n    }), \"\\n\", _jsx(\"input\", {\n      id: \"cs\",\n      name: \"la\",\n      type: \"radio\",\n      readOnly: true\n    }), \"\\n\", _jsx(\"div\", {\n      className: \"navgator\",\n      children: _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"Docs »\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"I/O »\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"Encrypting save games\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"View page source\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h1, {\n      id: \"encrypting-save-games\",\n      children: [\"Encrypting save games\", _jsx(_components.a, {\n        className: \"anchor after\",\n        \"aria-hidden\": true,\n        \"aria-label\": \"permalink\",\n        tabIndex: \"-1\",\n        href: \"#encrypting-save-games\",\n        children: _jsx(_components.svg, {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          focusable: \"false\",\n          children: _jsx(_components.path, {\n            d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\",\n            fillRule: \"evenodd\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"why\",\n      children: [\"Why?\", _jsx(_components.a, {\n        className: \"anchor after\",\n        \"aria-hidden\": true,\n        \"aria-label\": \"permalink\",\n        tabIndex: \"-1\",\n        href: \"#why\",\n        children: _jsx(_components.svg, {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          focusable: \"false\",\n          children: _jsx(_components.path, {\n            d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\",\n            fillRule: \"evenodd\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Because the world today is not the world of yesterday. A capitalist oligarchy runs the world and forces us to consume in order to keep the gears of this rotten society on track. As such, the biggest market for video game consumption today is the mobile one. It is a market of poor souls forced to compulsively consume digital content in order to forget the misery of their everyday life, commute, or just any other brief free moment they have that they are not using to produce goods or services for the ruling class. These individuals need to keep focusing on their video games (because not doing so will fill them with tremendous existential angst), so they go as far as spending money on them to extend their experience, and their preferred way of doing so is through in-app purchases and virtual currency.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"But what if someone were to find a way to edit the saved games and assign the items and currency without effort? That would be terrible, because it would help players consume the content much faster, and therefore run out of it sooner than expected. If that happens, they will have nothing that prevents them from thinking, and the tremendous agony of realizing their own irrelevance would again take over their life.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"No, we definitely do not want that to happen, so let's see how to encrypt savegames and protect the world order.\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"how\",\n      children: [\"How?\", _jsx(_components.a, {\n        className: \"anchor after\",\n        \"aria-hidden\": true,\n        \"aria-label\": \"permalink\",\n        tabIndex: \"-1\",\n        href: \"#how\",\n        children: _jsx(_components.svg, {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          focusable: \"false\",\n          children: _jsx(_components.path, {\n            d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\",\n            fillRule: \"evenodd\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The class \", _jsx(_components.a, {\n        href: \"#\",\n        children: \"File\"\n      }), \" can open a file at a location and read/write data (integers, strings and variants). It also supports encryption. To create an encrypted file, a passphrase must be provided, like this:\"]\n    }), \"\\n\", _jsxs(\"div\", {\n      className: \"sphinx-tabs\",\n      children: [_jsxs(\"div\", {\n        children: [_jsx(\"label\", {\n          htmlFor: \"gd\",\n          children: \"GDScript\"\n        }), _jsx(\"label\", {\n          htmlFor: \"cs\",\n          children: \"C#\"\n        })]\n      }), _jsx(_components.pre, {\n        className: \"language-py\",\n        children: _jsxs(_components.code, {\n          className: \"language-py code-highlight\",\n          children: [_jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"var f \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" File\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"new\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"var err \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"open_encrypted_with_pass\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"user://savedata.bin\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" File\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"WRITE\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"mypass\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"store_var\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"game_state\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"close\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \"\\n\"]\n          })]\n        })\n      }), _jsx(_components.pre, {\n        className: \"language-csharp\",\n        children: _jsxs(_components.code, {\n          className: \"language-csharp code-highlight\",\n          children: [_jsxs(_components.span, {\n            className: \"code-line\",\n            children: [_jsx(_components.span, {\n              className: \"token class-name\",\n              children: _jsx(_components.span, {\n                className: \"token keyword\",\n                children: \"var\"\n              })\n            }), \" f \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"new\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constructor-invocation class-name\",\n              children: \"File\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [_jsx(_components.span, {\n              className: \"token class-name\",\n              children: _jsx(_components.span, {\n                className: \"token keyword\",\n                children: \"var\"\n              })\n            }), \" err \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"OpenEncryptedWithPass\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"user://savedata.bin\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"int\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \"File\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"ModeFlags\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"Write\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"mypass\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"StoreVar\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"gameState\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"Close\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\"]\n          })]\n        })\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This will make the file unreadable to users, but will still not prevent them from sharing savefiles. To solve this, use the device unique id or some unique user identifier, for example:\"\n    }), \"\\n\", _jsxs(\"div\", {\n      className: \"sphinx-tabs\",\n      children: [_jsxs(\"div\", {\n        children: [_jsx(\"label\", {\n          htmlFor: \"gd\",\n          children: \"GDScript\"\n        }), _jsx(\"label\", {\n          htmlFor: \"cs\",\n          children: \"C#\"\n        })]\n      }), _jsx(_components.pre, {\n        className: \"language-py\",\n        children: _jsxs(_components.code, {\n          className: \"language-py code-highlight\",\n          children: [_jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"var f \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" File\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"new\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"var err \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"open_encrypted_with_pass\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"user://savedata.bin\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" File\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"WRITE\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" OS\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"get_unique_id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"store_var\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"game_state\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"close\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \"\\n\"]\n          })]\n        })\n      }), _jsx(_components.pre, {\n        className: \"language-csharp\",\n        children: _jsxs(_components.code, {\n          className: \"language-csharp code-highlight\",\n          children: [_jsxs(_components.span, {\n            className: \"code-line\",\n            children: [_jsx(_components.span, {\n              className: \"token class-name\",\n              children: _jsx(_components.span, {\n                className: \"token keyword\",\n                children: \"var\"\n              })\n            }), \" f \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"new\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constructor-invocation class-name\",\n              children: \"File\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [_jsx(_components.span, {\n              className: \"token class-name\",\n              children: _jsx(_components.span, {\n                className: \"token keyword\",\n                children: \"var\"\n              })\n            }), \" err \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"OpenEncryptedWithPass\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"user://savedata.bin\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"int\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \"File\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"ModeFlags\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"Write\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" OS\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"GetUniqueId\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"StoreVar\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"gameState\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\"]\n          }), _jsxs(_components.span, {\n            className: \"code-line\",\n            children: [\"f\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"Close\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            }), \"\\n\"]\n          })]\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Note that \", _jsx(_components.code, {\n        children: \"OS.get_unique_id()\"\n      }), \" does not work on UWP or HTML5.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"That is all! Thank you for your cooperation, citizen.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"This method cannot really prevent players from editing their savegames locally because, since the encryption key is stored inside the game, the player can still decrypt and edit the file themselves. The only way to prevent this from being possible is to store the save data on a remote server, where players can only make authorized changes to their save data. If your game deals with real money, you need to be doing this anyway.\"\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = props.components || ({});\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  frontmatter,\n  default: MDXContent\n};\n","toc":[{"depth":1,"value":"Encrypting save games","id":"encrypting-save-games","children":[{"depth":2,"value":"Why?","id":"why"},{"depth":2,"value":"How?","id":"how"}]}]},"overview":[{"length":22,"name":"archive"},{"length":15,"name":"graphics"},{"length":1,"name":"math"},{"length":8,"name":"network"},{"length":2,"name":"sstory"},{"name":"practice","length":1}]},"__N_SSG":true},"page":"/[collection]/[...slug]","query":{"collection":"archive","slug":["encryptingSaveGames"]},"buildId":"KNc6YkpMgxrEKqlxf_83E","assetPrefix":"/blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>