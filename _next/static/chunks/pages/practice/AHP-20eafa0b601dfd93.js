(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[923],{8090:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/practice/AHP",function(){return r(8165)}])},6472:function(e,t,r){"use strict";var s=r(5893),n=r(512),l=r(7294),i=r(9489),a=r.n(i);let c=l.forwardRef((e,t)=>{let{children:r,appearance:l,className:i,...c}=e;return(0,s.jsx)("button",{className:(0,n.Z)(a().btn,"subtle"===l&&a().subtle,"transparent"===l&&a().transparent,i),...c,ref:t,children:r})});t.Z=c},3083:function(e,t,r){"use strict";r.d(t,{Z:function(){return N},_:function(){return w}});var s=r(5893),n=r(7294);let l=n.createContext({overview:[]}),i=e=>{let{overview:t,children:r}=e;return(0,s.jsx)(l.Provider,{value:{overview:t},children:r})},a=()=>n.useContext(l);var c=r(9971),o=r(512),d=r(6472),h=r(6486),u=r.n(h),x=r(7855),m=r(5308),j=r.n(m),p=r(8116),f=r(9213),v=r(1664),g=r.n(v);let _=n.forwardRef((e,t)=>{let{children:r,title:n,href:l="",...i}=e;return(0,s.jsx)("li",{className:j().item,children:(0,s.jsxs)(g(),{href:l,...i,ref:t,children:[(0,s.jsx)(f.Z,{as:"title",children:n}),(0,s.jsx)(f.Z,{as:"p",maxLines:2,children:r})]})})});var y=e=>{let{imgSrc:t,fileList:r=[]}=e;return(0,s.jsxs)("div",{className:j().preview,children:[(0,s.jsx)("div",{"data-layer":"bg",style:{backgroundImage:"url(".concat(t,")")}}),(0,s.jsx)("ul",{"data-layer":"list",children:r.map(e=>{var t,r;return(0,s.jsx)(_,{href:e.url,title:e.frontmatter.title,children:(null===(t=e.rawContent)||void 0===t?void 0:t.substring(0,64))||(null===(r=e.frontmatter)||void 0===r?void 0:r.date)},e.file)})})]})},b=e=>{let{imgSrc:t,topic:r="",fileList:n=[],style:l}=e,i=(0,x.X)(),{overview:h}=a();return(0,s.jsx)("header",{"data-theme":"dark",className:j()["fluent-nav"],style:l,children:(0,s.jsxs)("section",{className:j()["nav-section"],children:[(0,s.jsx)(g(),{className:j()["nav-logo"],href:"/",children:(0,s.jsx)("h3",{children:"Allen Lee@Collections"})}),(0,s.jsxs)(p.fC,{className:j()["nav-menus"],children:[(0,s.jsxs)(p.aV,{children:[r&&(0,s.jsxs)(p.ck,{children:[(0,s.jsx)(p.xz,{className:j()["nav-trigger"],asChild:!0,children:(0,s.jsxs)(d.Z,{appearance:"subtle",children:[u().capitalize(r),(0,s.jsx)(c.jX5,{"aria-hidden":!0})]})}),(0,s.jsx)(p.VY,{className:j()["nav-surface"],children:(0,s.jsx)(y,{imgSrc:t,fileList:n})})]}),(0,s.jsxs)(p.ck,{value:"overview",children:[(0,s.jsx)(p.xz,{className:j()["nav-trigger"],asChild:!0,children:(0,s.jsxs)(d.Z,{appearance:"subtle",children:["Overview ",(0,s.jsx)(c.jX5,{"aria-hidden":!0})]})}),(0,s.jsx)(p.VY,{className:j()["nav-surface"],children:(0,s.jsx)("ul",{className:j().overviews,children:h.map(e=>(0,s.jsx)("li",{children:(0,s.jsxs)(g(),{href:"/tags/"+e.name,children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsx)("span",{"data-layer":"count",children:e.length||0})]})},e.name))})})]}),(0,s.jsx)(p.z$,{className:j()["nav-indicator"],children:(0,s.jsx)("i",{})})]}),(0,s.jsx)(p.l_,{className:(0,o.Z)(j()["nav-viewport"],i)})]})]})})};function w(e){let t=t=>{let{overview:r,...n}=t;return(0,s.jsx)(i,{overview:r,children:(0,s.jsx)(e,{...n})})};return t.displayName="InjectedComponent",t}var N=e=>{let{children:t,theme:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{imgSrc:"",style:{height:80}}),(0,s.jsx)("main",{"data-theme":r,style:{backgroundColor:"var(--colorNeutralBackground1)",overflowX:"hidden",overflowY:"auto",width:"100vw",height:"calc(100vh - ".concat(80,"px)")},id:"main",children:t})]})}},5376:function(e,t,r){"use strict";var s=r(5893),n=r(9008),l=r.n(n),i=r(1685);r(7294),t.Z=e=>{let{title:t="",titleTemplate:r="%s",meta:n=[]}=e,a=r.replace("%s",t||i.Z.site.title);return(0,s.jsxs)(l(),{children:[(0,s.jsx)("meta",{charSet:"UTF-8"}),(0,s.jsx)("title",{children:a}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("meta",{property:"og:title",content:a},"og:title"),(0,s.jsx)("meta",{name:"description",content:i.Z.site.description},"meta:description"),(0,s.jsx)("meta",{property:"og:description",content:i.Z.site.description},"og:description"),(0,s.jsx)("meta",{property:"og:type",content:"website"}),(0,s.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,s.jsx)("link",{rel:"icon",type:"image/x-icon",href:"/favicon.ico"}),n.map(e=>(0,s.jsx)("meta",{name:e.name,content:e.content,property:e.property},e.name))]})}},7855:function(e,t,r){"use strict";r.d(t,{X:function(){return c}});var s=r(5893),n=r(7294),l=r(512),i=r(8216),a=r.n(i);function c(){return(null===a()||void 0===a()?void 0:a().surface)||""}let o=n.forwardRef((e,t)=>{let{children:r,appearance:n="primary",className:i,...c}=e;return(0,s.jsx)("section",{className:(0,l.Z)(a().surface,"soft"===n&&a()["soft-surface"],"minimum"===n&&a()["minimum-surface"],i),...c,ref:t,children:r})});o.displayName="surface",t.Z=o},9213:function(e,t,r){"use strict";var s=r(5893),n=r(7294),l=r(8554),i=r(6908),a=r(7855),c=r(512),o=r(110),d=r.n(o);t.Z=e=>{let{children:t,maxLines:r=100,as:o="span",tooltipProps:h={},portalContainInBody:u=!1,...x}=e,[m,j]=n.useState(!1),[p,f]=n.useState(!1),v=n.useRef(null);return(0,s.jsx)(i.zt,{delayDuration:200,skipDelayDuration:100,children:(0,s.jsxs)(i.fC,{open:m,onOpenChange:e=>j(e),children:[(0,s.jsx)(i.xz,{asChild:!0,children:(0,s.jsx)(o,{...x||{},ref:e=>{e&&(v.current=e.parentNode)},children:(0,s.jsx)(l.Z,{lines:r,maxLines:r,withTooltip:!1,children:t})})}),(0,s.jsx)(i.h_,{container:u?document.body:v.current,children:(0,s.jsx)(i.VY,{children:(0,s.jsx)(a.Z,{appearance:"soft",style:{padding:"2px 4px"},...h,children:n.Children.map(t||[],e=>{var t,r;return n.isValidElement(e)?n.cloneElement(e,{className:(0,c.Z)(null==e?void 0:null===(t=e.props)||void 0===t?void 0:t.className,d()["in-tooltip"]),"in-tooltip":"true"}):e?(0,s.jsx)("span",{className:(0,c.Z)(null==e?void 0:null===(r=e.props)||void 0===r?void 0:r.className,d()["in-tooltip"]),"in-tooltip":"true",children:e}):void 0})})})})]})})}},1685:function(e,t){"use strict";t.Z={site:{title:"Allen Blog",description:"Personal Blog",baseUrl:"/blog"}}},8165:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return V},default:function(){return P}});var s=r(5893),n=r(5376),l=r(3083),i=r(7294),a=r(6472),c=r(660),o=r.n(c),d=r(5872),h=r(9971);let u=i.forwardRef((e,t)=>{let{children:r,className:n,...l}=e;return(0,s.jsxs)(d.ck,{className:o().item,...l,ref:t,children:[(0,s.jsx)(d.wU,{"data-select-indicator":!0,children:(0,s.jsx)(h.$fK,{})}),(0,s.jsx)(d.eT,{children:r})]})});u.displayName="SelectItem";let x=e=>{let{value:t,align:r,autoSelectFirst:n,placeholder:l="",onValueChange:a,items:c}=e,[x,m]=i.useState("");return i.useEffect(()=>{if(n){var e;m((null===(e=c[0])||void 0===e?void 0:e.value)||"")}},[n,c.length]),i.useEffect(()=>{t!==x&&m(null!=t?t:"")},[t]),(0,s.jsxs)(d.fC,{value:x,onValueChange:e=>{m(e),null==a||a(e)},children:[(0,s.jsxs)(d.xz,{className:o().trigger,children:[(0,s.jsx)(d.B4,{placeholder:l,children:x}),(0,s.jsx)(d.JO,{"data-select-trigger-icon":!0,children:(0,s.jsx)(h.h2L,{})})]}),(0,s.jsx)(d.h_,{children:(0,s.jsxs)(d.VY,{position:"popper",sideOffset:-4,align:r,className:o().content,children:[(0,s.jsx)(d.u_,{className:o()["scroll-btn"],children:(0,s.jsx)(h.Z_,{})}),(0,s.jsx)(d.l_,{"data-select-viewport":!0,children:c.map(e=>(0,s.jsx)(u,{value:e.value,children:e.label},e.value))}),(0,s.jsx)(d.$G,{className:o()["scroll-btn"],children:(0,s.jsx)(h.px3,{})})]})})]})};x.displayName="select",x.Group=d.ZA,x.Separator=d.Z0,x.Label=d.__;var m=r(4293),j=r.n(m);class p{static identity(e){let t=0,r=new p(e);return r.matric.forEach((s,n)=>{if(n>=e*t&&n%e===t){t+=1,r.set(n,1);return}r.set(n,0)}),r}static ones(e){let t=new p(e);return t.matric.fill(1),t}static mulVector(e,t){let r=e.order;if(t.length!==r)throw Error("向量长度必须为".concat(r,"（与维度匹配）"));let s=Array(r).fill(0);for(let n=0;n<r;n++){let l=n*r;for(let i=0;i<r;i++)s[n]+=e.matric[l+i]*t[i]}return s}set(e,t,r){j()(r)?this.matric[e]=t:this.matric[e*this.order+t]=r}get(e,t){return Number.isFinite(t)?this.matric[e*this.order+t]:this.matric[e]}getRow(e){return this.matric.slice(e*this.order,this.order*(e+1))}getColumn(e){return Array.from({length:this.order}).map((t,r)=>this.matric[r*this.order+e])}forEach(e){this.matric.forEach(e)}forEachRow(e){for(let t=0;t<this.order;t++)e(this.getRow(t),t)}forEachColumn(e){for(let t=0;t<this.order;t++)e(this.getColumn(t),t)}print(){let e=this.order;console.group("Matrix",e,this.matric);for(let t=0;t<e;t++)console.log(this.matric.slice(t*e,(t+1)*e));console.groupEnd()}constructor(e,t){this.order=e,this.matric=[],this.matric=Array.from({length:Math.pow(e,2)}),t&&this.matric.fill(t)}}let f=[0,0,0,.52,.89,1.12,1.26,1.36,1.41,1.46,1.49,1.52,1.54,1.56,1.58,1.59,1.5943,1.6064,1.6133,1.6207,1.6292,1.6358,1.6403,1.6462],v=e=>e.reduce((e,t)=>e+t,0),g=e=>{let t=v(e);return e.map(e=>e/t)};class _{subscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=>{let r=this.listeners.push([t,e]);return()=>{this.listeners.splice(r,1)}}}dispatch(e){this.listeners.forEach(t=>{let[r,s]=t;s===e&&r()})}set(e,t){this.states[e]=t,this.dispatch(e)}get(e){return this.states[e]}getSnapshot(e){return()=>this.states[e]}calculate(){console.log("cal");let e=this.states.matric.order,t=[];switch(this.states.method){case"root":this.states.matric.forEachRow(r=>{let s=r.reduce((e,t)=>e*t,1);t.push(function(e,t){let r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10;if(0===e)return 0;if(0===t||e<0&&t%2==0)return NaN;let n=Math.abs(e);do r=n,n=((t-1)*n+Math.abs(e)/Math.pow(n,t-1))/t;while(Math.abs(n-r)>s);return(e<0?-1:1)*n}(s,e))}),this.set("eigenvector",t),this.set("weight",g(t));break;case"sum":{let r=[];this.states.matric.forEachColumn(e=>{r.push(g(e))});for(let s=0;s<e;s++){let e=r.reduce((e,t)=>e+t[s],0);t.push(e)}this.set("eigenvector",t),this.set("weight",g(t))}}let r=this.states.weight,s=[];this.states.matric.forEachRow((e,t)=>{let n=e.map((e,t)=>e*r[t]);s.push(v(n))});let n=v(s.map((e,t)=>e/r[t]))/e;this.set("lamdaMax",n),this.set("CI",(n-e)/(e-1))}constructor(){this.states={target:"",criteria:[],methods:[],matric:new p(0),eigenvector:[],weight:[],method:"root",lamdaMax:0,CI:0},this.listeners=[]}}let y=new _,b=(e,t)=>{let[r,s]=i.useMemo(()=>[y.subscribe(e),y.getSnapshot(e)],[e]),n=i.useSyncExternalStore(r,s,s);return i.useEffect(()=>{t&&y.set(e,t)},[]),[n,i.useCallback(t=>{"function"==typeof t?y.set(e,t(y.get(e))):y.set(e,t)},[e])]};var w=r(7514),N=r.n(w);let C=[{value:"1/9",label:"1/9"},{value:"1/8",label:"1/8"},{value:"1/7",label:"1/7"},{value:"1/6",label:"1/6"},{value:"1/5",label:"1/5"},{value:"1/4",label:"1/4"},{value:"1/3",label:"1/3"},{value:"1/2",label:"1/2"},{value:"1",label:1},{value:"2",label:2},{value:"3",label:3},{value:"4",label:4},{value:"5",label:5},{value:"6",label:6},{value:"7",label:7},{value:"8",label:8},{value:"9",label:9}],Z=()=>{let[e,t]=i.useState({}),[r,s]=i.useState(new p(0,""));return[r,e=>{s(e),"function"==typeof e&&t({})}]},E=e=>{let t=e.indexOf("/");return t>0?e.substring(t+1):"1/"+e},F=e=>{let[t,r="1"]=e.split("/");return Number.parseInt(t)/Number.parseInt(r)};var k=()=>{let[e]=b("criteria"),[t,r]=Z();return(i.useEffect(()=>{r(new p(e.length,"1"))},[e.length]),e.length<1)?(0,s.jsx)(s.Fragment,{}):(t.print(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("table",{className:N().table,children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{}),e.map((e,t)=>(0,s.jsx)(i.Fragment,{children:(0,s.jsx)("td",{children:e})},t))]}),e.map((n,l)=>{let a=1/(e.length+1)*100+"%";return n?(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:n}),e.map((e,n)=>{let c=(0,s.jsx)(s.Fragment,{});return c=n===l?(0,s.jsx)("td",{style:{width:a,background:"#bdd7ee"},children:t.get(l,n)}):n>l?(0,s.jsx)("td",{style:{width:a,background:"#c5e0b5"},children:t.get(l,n)}):(0,s.jsx)("td",{style:{width:a},children:(0,s.jsx)(x,{align:"center",value:String(t.get(l,n)),placeholder:"选择重要程度",onValueChange:e=>{r(t=>(t.set(l,n,e),t.set(n,l,E(e)),t))},items:C})}),(0,s.jsx)(i.Fragment,{children:c},n)})]},n):(0,s.jsx)(i.Fragment,{},l)})]})}),(0,s.jsx)(a.Z,{onClick:()=>{let e=p.identity(t.order);t.forEach((t,r)=>{e.set(r,F(t))}),y.set("matric",e),y.calculate()},children:"计算"})]}))};let S=e=>{let{children:t,question:r}=e;return(0,s.jsxs)("li",{children:[r,(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap"},children:["答：",t]})]})},I=e=>{let{value:t,onChange:r,maxSize:n=15}=e;return(0,s.jsx)("input",{value:t,onChange:e=>{let t=Number.parseInt(e.target.value);Number.isNaN(t)||t>n||r(t)},type:"number",min:"1",max:"15",style:{width:"3ex",flex:"0 0 auto"}})};var R=()=>{let[e,t]=b("target",""),[r,n]=b("criteria",Array.from({length:3}).fill("")),[l,a]=b("methods",Array.from({length:3}).fill(""));return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("section",{className:N().layers,children:(0,s.jsxs)("ol",{children:[(0,s.jsx)(S,{question:"评价的目标是什么？",children:(0,s.jsx)("input",{value:e,onChange:e=>t(e.target.value)})}),(0,s.jsxs)(S,{question:"为了达到这个目标有哪几种可选的方案？",children:[(0,s.jsx)(I,{value:l.length,onChange:e=>{a(t=>Array.from({length:e}).map((e,r)=>t[r]||""))}}),"种，分别是",l.map((e,t)=>(0,s.jsxs)(i.Fragment,{children:[t<1?"":t<l.length-1?"，":"和",(0,s.jsx)("input",{value:e,onChange:e=>{a(r=>{let s=[...r];return s[t]=e.target.value,s})}})]},t))]}),(0,s.jsxs)(S,{question:"根据什么东西来评价好坏？",children:[(0,s.jsx)(I,{value:r.length,onChange:e=>{n(t=>Array.from({length:e}).map((e,r)=>t[r]||""))}}),"种，分别是",r.map((e,t)=>(0,s.jsxs)(i.Fragment,{children:[t<1?"":t<r.length-1?"，":"和",(0,s.jsx)("input",{value:e,onChange:e=>{n(r=>{let s=[...r];return s[t]=e.target.value,s})}})]},t))]})]})})})};let A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(e||0).toFixed(t)};var M=()=>{let[e]=b("criteria"),[t]=b("eigenvector"),[r]=b("weight"),[n]=b("lamdaMax"),[l]=b("CI");return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("table",{className:N().table,children:(0,s.jsxs)("tbody",{children:[(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,children:"AHP\xa0层次分析结果"})}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"项"}),(0,s.jsx)("td",{children:"特征向量"}),(0,s.jsx)("td",{children:"权重值"}),(0,s.jsx)("td",{children:"最大特征根"}),(0,s.jsx)("td",{children:"CI\xa0值"})]}),null==r?void 0:r.sort((e,t)=>t-e).map((r,a)=>r?(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e[a]}),(0,s.jsx)("td",{children:A(t[a],3)}),(0,s.jsxs)("td",{children:[A(100*(r||0),2),"%"]}),0===a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("td",{rowSpan:e.length,children:A(n,3)}),(0,s.jsx)("td",{rowSpan:e.length,children:A(l,4)})]})]},a):(0,s.jsx)(i.Fragment,{},a))]})})})};let O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(e||0).toFixed(t)};var L=()=>{let[e]=b("criteria"),[t]=b("lamdaMax"),[r]=b("CI"),n=i.useMemo(()=>f[e.length],[e.length]),l=i.useMemo(()=>r/n,[n,r]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("table",{className:N().table,children:(0,s.jsxs)("tbody",{children:[(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,children:"一致性检验结果汇总"})}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"最大特征根 "}),(0,s.jsx)("td",{children:"CI\xa0值"}),(0,s.jsx)("td",{children:"RI\xa0值"}),(0,s.jsx)("td",{children:"CR\xa0值"}),(0,s.jsx)("td",{children:"一致性检验结果"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:O(t,3)}),(0,s.jsx)("td",{children:O(r,4)}),(0,s.jsx)("td",{children:n}),(0,s.jsx)("td",{children:O(l,4)}),(0,s.jsx)("td",{children:l<.1?"通过":"不通过"})]})]})})})},T=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R,{}),(0,s.jsx)(k,{}),(0,s.jsx)(M,{}),(0,s.jsx)(L,{})]}),V=!0,P=(0,l._)(function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{}),(0,s.jsx)(l.Z,{theme:"light",children:(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(T,{})})})]})})},7514:function(e){e.exports={layers:"style_layers__3FWd_",table:"style_table___NHsL"}},9489:function(e){e.exports={btn:"style_btn__AkQj7",subtle:"style_subtle__i70rQ",transparent:"style_transparent__3Brt3"}},5308:function(e){e.exports={"fluent-nav":"style_fluent-nav__g_gBy","nav-section":"style_nav-section__sS_tB","nav-menus":"style_nav-menus__4aQM9","nav-trigger":"style_nav-trigger__ekUye","nav-logo":"style_nav-logo__jRYAT","nav-surface":"style_nav-surface__uOpwt",enterFromLeft:"style_enterFromLeft__iqPtr",enterFromRight:"style_enterFromRight__aY5_G",exitToLeft:"style_exitToLeft__60CV1",exitToRight:"style_exitToRight__7aqkb","nav-indicator":"style_nav-indicator__vDtuT",fadeIn:"style_fadeIn__nXtp2",fadeOut:"style_fadeOut__f_kHt","nav-viewport":"style_nav-viewport__YupVO",overviews:"style_overviews__C5KDk",preview:"style_preview__Np_qv",item:"style_item__txBuy"}},660:function(e){e.exports={trigger:"style_trigger__G_Hys",item:"style_item__ZWPmL",content:"style_content__0Uph4","scroll-btn":"style_scroll-btn__MxEva"}},8216:function(e){e.exports={surface:"styles_surface__5pQP4","soft-surface":"styles_soft-surface__fPrIY","minimum-surface":"styles_minimum-surface__7A9Os"}},110:function(e){e.exports={"in-tooltip":"style_in-tooltip__O2qB1"}}},function(e){e.O(0,[662,653,664,540,88,157,888,774,179],function(){return e(e.s=8090)}),_N_E=e.O()}]);