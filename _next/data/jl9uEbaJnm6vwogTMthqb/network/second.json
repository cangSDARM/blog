{"pageProps":{"post":{"matter":{"date":"2018-01-24","title":"第二章","tags":["network"],"index":2},"absPath":"/home/runner/work/blog/blog/renderer/mdx/network/second.mdx","type":"mdx","slug":["second"],"collection":"network","url":"/network/second"},"compiled":{"content":"\"use strict\";\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst frontmatter = {\n  \"date\": \"2018-01-24\",\n  \"title\": \"第二章\",\n  \"tags\": [\"network\"],\n  \"index\": 2\n};\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    code: \"code\",\n    h3: \"h3\",\n    h4: \"h4\",\n    img: \"img\",\n    li: \"li\",\n    ol: \"ol\",\n    p: \"p\",\n    path: \"path\",\n    pre: \"pre\",\n    span: \"span\",\n    strong: \"strong\",\n    svg: \"svg\",\n    ul: \"ul\",\n    ...props.components\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h3, {\n      id: \"for-http\",\n      children: [\"For Http\", _jsx(_components.a, {\n        className: \"anchor after\",\n        \"aria-hidden\": true,\n        \"aria-label\": \"permalink\",\n        tabIndex: \"-1\",\n        href: \"#for-http\",\n        children: _jsx(_components.svg, {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          focusable: \"false\",\n          children: _jsx(_components.path, {\n            d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\",\n            fillRule: \"evenodd\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsx(_components.p, {}), \"\\n\", _jsx(_components.img, {\n      src: \"/images/network/fqdn.webp\",\n      alt: \"FQDN\",\n      width: \"641\",\n      height: \"347\",\n      sizes: \"(max-width: 641px) 100vw, 347px\",\n      blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAIAAADwyuo0AAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAI0lEQVR4nGPQ1tVTUlEVE5e0srFlePbs2YEjR5ctX7l+4yYAYqMK7vQWutcAAAAASUVORK5CYII=\",\n      placeholder: \"blur\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"FQDN 总长度不超过 255 个字符，两个 . 之间的字符不超过 63 个\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"当连接到主机(例如，使用 SSH 客户机)时，必须指定 FQDN(与 URL 的区别是没有 protocal 和 resource)。然后，DNS 服务器通过查看其 DNS 表将主机名解析为其 IP 地址。与主机取得联系，您将收到一个登录提示\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"应用层协议原理\",\n      children: [\"应用层协议原理\", _jsx(_components.a, {\n        className: \"anchor after\",\n        \"aria-hidden\": true,\n        \"aria-label\": \"permalink\",\n        tabIndex: \"-1\",\n        href: \"#应用层协议原理\",\n        children: _jsx(_components.svg, {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          focusable: \"false\",\n          children: _jsx(_components.path, {\n            d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\",\n            fillRule: \"evenodd\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"应用程序由通信进程对组成。每对中的两个进程互相发送报文。进程通过**套接字(socket)**向网络发送或请求报文\\n\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/images/network/application_layer.webp\",\n      alt: \"application_layer\",\n      width: \"717\",\n      height: \"286\",\n      sizes: \"(max-width: 717px) 100vw, 286px\",\n      blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAIAAADwyuo0AAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAIklEQVR4nGOIjQgyMtSJiAy7dOkCQ1iwlzAfGxszw+/f3wFtrwkiWQzHjwAAAABJRU5ErkJggg==\",\n      placeholder: \"blur\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"\\n套接字是同一台主机内应用层和运输层之间的接口\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"SSL 是在应用层实现的，是对 TCP 的一种加强\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"为了寻址，因此主机由\", _jsx(_components.strong, {\n        children: \"IP 地址\"\n      }), \"标识；进程由**端口号(port number)**标识（\", _jsx(_components.a, {\n        href: \"https://www.iana.org\",\n        children: \"固定端口参考\"\n      }), \"）\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"应用层协议\",\n      children: [\"应用层协议\", _jsx(_components.a, {\n        className: \"anchor after\",\n        \"aria-hidden\": true,\n        \"aria-label\": \"permalink\",\n        tabIndex: \"-1\",\n        href: \"#应用层协议\",\n        children: _jsx(_components.svg, {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          focusable: \"false\",\n          children: _jsx(_components.path, {\n            d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\",\n            fillRule: \"evenodd\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"**应用层协议(application-layer protocol)**定义了运行在不同端系统上的应用程序如何相互传递报文。\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"**非持续连接(non-persistent connection)**指每个请求/响应对是经一个单独的 TCP 连接发送\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"**持续连接(persistent connection)**指所有请求及响应经相同的 TCP 连接发送\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"dns\",\n      children: [\"DNS\", _jsx(_components.a, {\n        className: \"anchor after\",\n        \"aria-hidden\": true,\n        \"aria-label\": \"permalink\",\n        tabIndex: \"-1\",\n        href: \"#dns\",\n        children: _jsx(_components.svg, {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          focusable: \"false\",\n          children: _jsx(_components.path, {\n            d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\",\n            fillRule: \"evenodd\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"用于将主机名解析为 ip 地址的服务\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"DNS 是\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"一个由分层的*\", _jsx(_components.strong, {\n          children: \"*DNS 服务器实现的\"\n        }), \"分布式数据库**\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"一个使得主机能够查询分布式数据库的\", _jsx(_components.strong, {\n          children: \"应用层协议\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"DNS 服务器通常是运行 BIND(Berkeley Internet Name Domain)软件的 UNIX 机器。DNS 协议运行在 UDP 之上，使用 53 端口\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"递归查询\"\n      }), \"指该查询以自己的名义请求；\\n\", _jsx(_components.strong, {\n        children: \"迭代查询\"\n      }), \"指所有回答都是直接返回其他 ip 地址\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"通常的查询都遵从：从请求主机到本地 dns 服务器的查询是递归的，其余查询是迭代的\"\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"dns-记录和报文\",\n      children: [\"DNS 记录和报文\", _jsx(_components.a, {\n        className: \"anchor after\",\n        \"aria-hidden\": true,\n        \"aria-label\": \"permalink\",\n        tabIndex: \"-1\",\n        href: \"#dns-记录和报文\",\n        children: _jsx(_components.svg, {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          focusable: \"false\",\n          children: _jsx(_components.path, {\n            d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\",\n            fillRule: \"evenodd\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"whois 数据库是所有已注册域名的列表\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"DNS 服务器存储了\", _jsx(_components.strong, {\n        children: \"资源记录(Resource Record, RR)\"\n      }), \"，RR 提供了主机名到 ip 地址的映射。RR 是一个四元组\", _jsx(_components.code, {\n        children: \"(Name, Value, Type, TTL)\"\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"其中，TTL 指该记录的生存时间，决定了 RR 应该从缓存中删除的时间；Name 和 Value 的值取决于 Type\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"若 Type=A, 则 Name 是主机名，Value 是其对应 ip\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"若 Type=NS, 则 Name 是个域，Value 是储存该域主机 ip 地址的权威 DNS 服务器的主机名\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"若 Type=CNAME, 则 Value 是别名为 Name 的主机对应的规范化主机名\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"若 Type=MX, 则 Value 是别名为 Name 的邮件服务器的规范化主机名\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"DNS 只有查询和回答这两种报文，其格式相同\\n\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/images/network/dns_message.webp\",\n      alt: \"dns_message\",\n      width: \"470\",\n      height: \"588\",\n      sizes: \"(max-width: 470px) 100vw, 588px\",\n      blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAECAIAAADETxJQAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAMUlEQVR4nGMw1tfsaW+UEeNmWL5s4dP7t+2sDBkqygqXL1uYGB/N4OzoqKejlV+QAwAoXw6PiLydHwAAAABJRU5ErkJggg==\",\n      placeholder: \"blur\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"\\nDNS 查询可以通过\", _jsx(_components.code, {\n        children: \"nslookup\"\n      }), \"命令手动查询\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"DNS 中 RR 的增删由**注册登记机构(registrar)**控制，其由\", _jsx(_components.a, {\n        href: \"https://www.internic.net\",\n        children: \"因特网名字和地址分配机构(Internet Corporation for Assigned Names and Numbers, ICANN)\"\n      }), \"授权\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"简单套接字编程\",\n      children: [\"简单套接字编程\", _jsx(_components.a, {\n        className: \"anchor after\",\n        \"aria-hidden\": true,\n        \"aria-label\": \"permalink\",\n        tabIndex: \"-1\",\n        href: \"#简单套接字编程\",\n        children: _jsx(_components.svg, {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          focusable: \"false\",\n          children: _jsx(_components.path, {\n            d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\",\n            fillRule: \"evenodd\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-python\",\n      children: _jsxs(_components.code, {\n        className: \"language-python code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"1\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"#UDPClient.py\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"2\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"from\"\n          }), \" socket \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"import\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"3\",\n          children: [\"serverName \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"hostname\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \" serverPort \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"12000\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"4\",\n          children: [\"clientSocket \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" socket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"AF_INET\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" SOCK_DGRAM\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"5\",\n          children: [\"msg \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"raw_input\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"input: \\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"6\",\n          children: [\"clientSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"sendto\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"msg\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"encode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"serverName\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" serverPort\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"7\",\n          children: [\"modifiedMsg\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" serverAdd \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" clientSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"recvfrom\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"2048\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"8\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"print\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"modifiedMsg\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"decode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"9\",\n          children: [\"clientSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"close\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line line-number\",\n          line: \"10\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"11\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"#UDPServer.py\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"12\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"from\"\n          }), \" socket \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"import\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"13\",\n          children: [\"serverPort \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"12000\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"14\",\n          children: [\"serverSocket \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" socket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"AF_INET\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" SOCK_DGRAM\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"15\",\n          children: [\"serverSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"bind\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" serverPort\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"16\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"print\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"server ready to receive\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"17\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"while\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"True\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"18\",\n          children: [\"    msg\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" clientAdd \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" serverSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"recvfrom\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"2048\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"19\",\n          children: [\"    modifiedMsg \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" msg\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"decode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"upper\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"20\",\n          children: [\"    serverSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"sendto\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"modifiedMsg\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"encode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" clientAdd\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line line-number\",\n          line: \"21\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"22\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"#TCPClient.py\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"23\",\n          children: [\"clientSocket \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" socket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"AF_INIT\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" SOCK_STREAM\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"24\",\n          children: [\"clientSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"connect\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"serverName\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" serverPort\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"25\",\n          children: [\"clientSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"send\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"msg\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"encode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line line-number\",\n          line: \"26\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"27\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"#TCPServer.py\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"28\",\n          children: [\"serverSocket \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" socket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"AF_INIT\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" SOCK_STREAM\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"29\",\n          children: [\"serverSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"bind\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" serverPort\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"30\",\n          children: [\"serverSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"listen\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"max\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"10\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"31\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"while\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"True\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"32\",\n          children: [\"    connectSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" addr \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" serverSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"accept\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"33\",\n          children: [\"    msg \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" connetSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"recv\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1024\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"decode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"upper\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"encode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"34\",\n          children: [\"    connectSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"send\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"msg\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line line-number\",\n          line: \"35\",\n          children: [\"    connectSocket\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"close\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        })]\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = props.components || ({});\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  frontmatter,\n  default: MDXContent\n};\n","toc":[{"depth":3,"value":"For Http","id":"for-http"},{"depth":3,"value":"应用层协议原理","id":"应用层协议原理"},{"depth":3,"value":"应用层协议","id":"应用层协议"},{"depth":3,"value":"DNS","id":"dns","children":[{"depth":4,"value":"DNS 记录和报文","id":"dns-记录和报文"}]},{"depth":3,"value":"简单套接字编程","id":"简单套接字编程"}]},"overview":[{"length":22,"name":"archive"},{"length":15,"name":"graphics"},{"length":1,"name":"math"},{"length":8,"name":"network"},{"length":2,"name":"sstory"}]},"__N_SSG":true}